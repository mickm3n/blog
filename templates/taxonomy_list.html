{% extends "base.html" %}

{% block content %}
{% set view_counts = load_data(path="static/data/view_counts.json") %}
<section>
    <div class="page-header">
        <h1>All {{ taxonomy.name }}</h1>
    </div>
    <ul class="root-ul">
        {% for category in terms %}
        <li>
            <a class="no-underline" href="{{ category.permalink }}">{{ category.name }}</a>
            ({{category.pages | length }})
            <ul>
                {% for page in category.pages %}
                <li>{{ macro::post_link(page=page, view_counts=view_counts) }}</li>
                {% endfor %}
            </ul>
        </li>
        {% endfor %}
    </ul>
</section>
{% endblock content %}
